# Инструкция
Программа предназначается для слияния предварительно отсортированных по возрастанию целых чисел или строк из нескольких файлов в один файл. При слиянии данные будут отсортированы по возрастанию.

Данная программа была разработана с помощью jdk версии 20 и собрана с помощью системы сборки Maven версии 3.8.1.
Используется сторонняя библиотека Guava версии 32.1.2-jre.

## Что нужно, чтобы запустить?
Перед запуском программы нужно будет установить  [нужную версию jdk для вашей операционной системы](https://www.oracle.com/java/technologies/downloads/), а также скачать sort-it.jar с данного репозитория.

### Чтобы запустить с помощью jar файла 
Чтобы запустить данную программу, сначала нужно зайти в командную строку. 
После этого либо перейдите в папку с приложением и напишите java -jar sort-it.jar, либо напишите java -jar <полный путь до sort-it.jar> и введите параметры через пробел: 
  1. <Тип даных>. Поддерживаются только целые числа (флаг -i) и строки (флаг -s).
  2. <Выходной файл>. Если хотите использовать файл в той же папке, что и приложение, то тогда просто напишите название файла. Иначе напишите полный путь до файла. Если файла не окажется в папке с приложением или в указанной вами папке, то приложение само создаст его там, если это возможно. Если создать или открыть файл не получится, то приложение выдаст об этом сообщение на экран.
  3. <Входные файлы...>. Все входные файлы также указываются через пробел. Если файл  находиться в той же папке, что и приложение, то тогда просто напишите название файла. Иначе напишите полный путь до файла. Если какого файла не будет существовать, то приложение скажет об этом и укажет название данного файла (файлов если их несколько).
После того, как вы ввели все входные параметры, нажмите клавишу Enter и дождитесь сообщения об успешном выполнении программы.
Если вы ввели не все параметры или указали какой-то с ошибкой, то приложение вам об этом сообщит и закончит свое выполнение. После устранения ошибок заново запустите приложение.

## Как она работает?
Для сортировки данных из разных файлов используется контейнер TreeMultiMap из библиотеки Guava. В него считываются первые числа/строки из каждого файла, если файл не является пустым. После этого, пока все числа/строки в файлах не закончатся, берется наименьшее значение за данный момент, записывается в выходной файл и удаляется из контейнера. Дальше берется следующее значение из файла, если файл не пустой, и записывается в контейнер, но перед этим проходит проверку на то, не была ли нарушена сортировка при записи данного числа в файл. Если оно не проходит проверку, то мы считываем числа дальше, пока не найдем число, которое пройдет проверку или пока файл не кончится. Затем берем следущее наименьшее значение и повторяем процедуру, пока не запишем все числа в выходной файл.
